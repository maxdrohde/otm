---
title: Simulation Settings
---

```{r}
library(otm)
library(tidyverse)
```

```{r}
df <- otm:::generate_otm_data(cutpoints = c(2.7, 3.3, 3.8, 6.2, 9.9, 12.6, 19.1),
                             beta_yprev = c(0, 3.7, 4.8, 7.7, 11.1, 15.5),
                             beta_t = -0.01,
                             beta_tx = 0,
                             beta_t_tx = -0.02,
                             tx_end = 28,
                             baseline_y = 5,
                             times = 1:28,
                             tx_type = "linear",
                             absorb = 8L,
                             n_subjects = 1e4)
```

```{r}
otm:::plot_empirical_sops(df, type = 1, absorb = 8L, tmax = 28)
```

```{r}
otm:::plot_empirical_sops(df, type = 2, absorb = 8L, tmax = 28)
```

```{r}
otm:::plot_empirical_sops(df, type = 3, absorb = 8L, tmax = 28)
```

```{r}
otm:::plot_spearman_corr(df, absorb = 8L, tmax = 28L)
```


